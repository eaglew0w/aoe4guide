# 鍛冶場アップグレード
アップグレード効果の検証等。

## ダメージ計算式
このゲームではダメージの計算式が攻撃(+属性ボーナス)-防御というシンプルなものである。  
実際に、領主ユニットであるロングボウが近衛騎士に攻撃した場合を考えてみる。  
ロングボウの攻撃力は6、近衛騎士の間接防御は3、よって与えるダメージ6-3=3ダメージとなる。  
ちなみにAoE2と違ってステップしても矢は避けれない。  
馬を逃がす場合は早めに前線離脱させること。  

## アップグレード効果
鍛冶場でアップグレードした場合、実際にどの程度効果があるのかダメージ計算してみる。  
[ダメージ計算式](#ダメージ計算式)で使用した例を用いる。  
未強化のままだと3ダメージのため、近衛騎士のHP190を削りきるには64回の攻撃が必要となる。  
ここからロングボウ側が攻撃アップグレードを行っていると7-3=4ダメージとなり、  
48回の攻撃で倒すことができる。アップグレード効率は1.33倍だ。  
逆に、ロングボウ側は未強化で近衛騎士側が防御アップグレードをしている場合は2ダメージとなり、  
96回の攻撃が必要となり、近衛騎士側のアップグレード効率は1.5倍だ。

## アップグレード優先順位
基本的に近接ユニットは防御から、間接ユニットは攻撃からアップグレードしていくとよい。  
近接ユニットは近付く過程で一方的に攻撃を受けるため一定以上の防御力が必要になり、  
間接ユニットは近付かれる前に相手を倒せば攻撃を受けないため攻撃力が重要になる。  

アップグレード効率の観点からみると、一撃の値が少ない場合は1ダメージの価値が高く、  
一撃の値が大きい場合は価値が小さくなる。   
極端な例だが、一撃で半分以上削れる場合は攻撃のアップグレードが無意味となる。  
逆に防御のアップグレードを行ったところで結局耐えれない場合もある。 

大事なのは、何回攻撃すれば倒せるか/倒されるか、である。